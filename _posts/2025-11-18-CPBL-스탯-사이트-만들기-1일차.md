---
layout: post
title: "CPBL 스탯 사이트 만들기 1일차"
date: 2025-11-18
author: lebronisbest
---

![](/assets/img/기계흥분.jpg)

저는 어린 시절부터 야구 스탯을 보면 흥분했습니다. 이에 따라 1982년 MBC 청룡의 라인업을 전부 다 외운다든가, 원년부터 홈런왕과 그 갯수를 모두 외운다든가 지금 생각해보면 이상한 행동들을 했었더랬죠(물론 지금은 대부분 까먹었습니다.). 그런 저의 꿈은 자연스럽게 스탯 사이트를 운영하는 것으로 향했으나 저는 금방 좌절하고 맙니다. KBO의 스탯 공개는 정말 개같았기 때문입니다. KBO 사이트에 공개되어있는 박스 스코어는 2001년부터 시작이었고, 그마저도 스포츠투아이와의 계약에 얽혀있어서 저는 꿈을 포기하고 말았습니다.

그러던 저는 정말 우연찮게 CPBL의 공식 홈페이지에 방문하게 됩니다. 그 곳에 처음 들어갔을 때 저는 마치 엘도라도를 찾은 기분이었습니다. CPBL의 공식 사이트는 원년인 1990년부터 2025년까지 모든 게임의 박스 스코어를 제공하고 있었고, 2018년부터는 PBP 데이터도 원시적으로나마 얻을 수 있었습니다. 게다가 마이너 원년부터 2군 데이터와, 선수 프로필 등 다양한 정보들을 정말 쉽게 얻을 수 있었죠. 저는 단 한번의 CPBL 경기를 본 적이 없음에도 저의 가슴은 떨려오기 시작했습니다. 프로야구 원년의 4월 12일 루이스 곤잘레스가 두번째 타석에서 무얼 했는지 알 수 있는 사이트가 그것도 공식 사이트라니. KBO에서는 상상도 할 수 없는 놀라운 일이죠.

그래서 저는 떨리는 가슴과 함께 CPBL 스탯 사이트를 오픈하기로 마음 먹었습니다. 물론 제가 할 수 있는거라곤 python으로 hello, world만 출력하는거긴 합니다. (이것도 솔직히 헷갈림)

# **1)시장 조사**

제가 가장 먼저한 건 이미 시중에 나와있는 CPBL 사이트들을 검색해보는 것이었습니다. 그 결과, 크게 3가지 사이트를 찾을 수 있었습니다.

[https://en.cpbl.com.tw/](https://en.cpbl.com.tw/)

프로젝트의 원천이 될 CPBL 사이트입니다.

[https://www.baseball-reference.com/](https://www.baseball-reference.com/)

MLB를 포함해 NPB, KBO 등 해외 리그들도 커버하는 야구 데이터 사이트 Baseball Reference입니다. 아무래도 CPBL 사이트에서 가져온 데이터를 그대로 보여주는 것 같아, 고급 데이터나 게임 로그와 같은 정보는 없었습니다. 그래도 데이터를 교차 검증하는데는 아주 유용할 것으로 보입니다.

[https://www.rebas.tw/](https://www.rebas.tw/)

CPBL의 베이스볼 프로스펙터스와 같은 사이트입니다. 구종 정보, 타구 정보, 수비 정보 등을 포함해 엄청난 양의 데이터를 제공하고 있었습니다. 거기다가 호감인건 2023년, 2024년 데이터를 github에 오픈으로 뿌려버리기 까지 하더라구요. 맨 처음에는 이 사이트의 데이터를 활용해볼까 싶기도 했지만 아마도 이전년도의 데이터는 이후년의 시즌 중에 업데이트하는 것 같고, 이 형님들이 업데이트를 해주지 않으시면 사이트 운영이 불가능하기 때문에 포기하기로 했습니다. 사이트 자체는 정말 훌륭하지만 영어를 지원하지 않고, 2018년 데이터부터 지원한다는 점에서 차별점을 발견할 수 있었습니다.

그래서 제 결론은,

1.영어로 되어있고

2.1990년 원년부터의 데이터를 제공하고

3.고급 지표가 존재하는

영어 CPBL 스탯 사이트의 경쟁성이 어느 정도 있다고 파악했습니다. 물론 이는 아주 희망사항이 섞인 분석 결과일 확률이 높습니다.

# **2)데이터 수집 및 분류**

데이터 수집 자체는 전술한대로 큰 무리가 없었습니다. 하지만 문제점은 이 데이터를 어떻게 분류하냐는 것 이었습니다.

CPBL 사이트는 1990년부터 박스스코어를 제공하고, 2018년부터 문자 중계를 제공하고 있습니다. wRC+, WPA 그리고 (아주 미약하지만) 수비 스탯을 구하기 위해서는 PBP 데이터가 반드시 필요하기 때문에 사이트는 2018년부터 고급 지표를 제공하고 2018년 이전은 최소한의 세이버 메트릭스 스탯만을 제공하기로 결정했습니다. 문제는 문자 중계 데이터를 실제 PBP 데이터로 변환하는 작업이었습니다.

CPBL의 문자 중계는 livelog라는 json 항목으로 실려옵니다. 이 데이터는 중국어 중계 원문으로 자연어로 입력되어있기 때문에 형식이 2025년에만 8000여개가 될 정도로 아주 다양했습니다. CPBL은 KBO와 다르게 '좌익수 플라이 아웃' 같은 간단한 표시가 아닌 '좌익수 A 방향 높이 뜬 타구, 포구, 2루 주자 B 3루로 진루, 3루로 송구, ,진루 성공' 이런식으로 되어있더라구요. livelog 외에도 battingjson과 pitchingjson에서 충분한 데이터를 얻을 수 있었지만, 타구 방향이나 진루 정보를 파악하기 위해서는 livelog의 파싱이 필수적이었습니다.

여기에는 엄청난 고난이 있었습니다. 왜냐면 저는 비전공자인데다가, 멍청하고, 돈도 없기 때문입니다. 물론 백수기 때문에 시간은 넘쳐나지만 그렇다고 8000개가 넘는 중국어 데이터를 일일히 손으로 매핑할 수도 없었습니다.

맨 처음에 시도한 건 로컬 LLM을 사용해 파이프라인을 만들어서 저만의 레트로시트를 채워넣는 것 이었습니다. 여기에는 바이브 코딩을 위한 Cusor AI와 Claude Code, Codex가 투입되었고 모델은 Qwen과 DeepSeek를 사용하기로 했습니다. Qwen이랑 DeepSeek는 중국어 모델이니까, 중국어 해석에는 큰 무리가 없을 것이라고 생각했거든요. 계획은 완벽했는데... 까먹은게 있었습니다. 중국 사람들은 야구를 안합니다. 그래서 그런지 야구 관련 텍스트를 해석하는데 문제가 있었습니다. 물론 기본적인 역할은 해주지만, 복잡한 플레이일수록 이상하게 파싱을 하더라구요.

두번째 생각한 건 무려 파인튜닝과 문자 중계를 PBP 데이터로 바꿔주는 전용 LLM 만들기였습니다. 하지만 이내 말도 안되는 생각이란걸 깨닫고 포기하고 맙니다.

결국 저는 그렇게 눈물을 머금고 Open AI의 API 플랫폼에 결제를 합니다... 다양한 모델을 테스트 해봤지만 비용이나 시간 측면을 고려해 4o-mini를 사용하기로 했습니다. 추론 모델인 GPT5-nano가 가장 좋았지만 시간 문제도 있고, 무엇보다도 비용이 제가 감당할 수준이 아니었습니다.

어쨌든 저는 그렇게 1차적으로 문자 중계 데이터를 파싱해 PBP를 만들고, LLM으로 문자 중계 데이터 중 텍스트를 파싱해 pbp sheet를 완성하는 파이프라인을 구축했습니다.